---
title: 设计模式之单例模式
date: 2019-08-05 11:52:36
tags:
- Java
- Singleton
categories:
- Java
- Singleton
---
# 设计模式之单例模式

### 简介

> 单例模式（Singleton Pattern）是 Java 中最简单的设计模式之一，它提供了一种创建对象的最佳方式。

### 实现

单例模式的实现要点是：

1. 将构造方法定义为私有，防止外部通过new创建实例
2. 定义获取唯一实例的公有静态方法。
3. 同时将实例变量定义为静态，以便静态的获取实例方法获取

> 1. 饿汉式

```java
public class Singleton{
	private static Singleton sin = new Singleton();
	private Singleton(){
	}
	public static Singleton getSingle(){
		return sin;
	}
}
```

饿汉式方法在类加载我的时候就会new出一个静态对象来，要用的时候直接返回。但是缺点是单例在还没有使用的时候初始化已经完成，不能延迟加载。

> 2. 懒汉式

```java
public class Singleton{
    private static Singleton instance;
    private Singleton(){}
    public static synchronized Singleton getInstance(){
        if(instance == null){
            instance = new Singleton();
        }
        return instance;
    }
}
```

> 3. 双重校验锁

```java
public class Singleton{
    private static Singleton instance;
    private Singleton(){}
    public static Singleton getInstance(){
        if(instance == null){
            synchronized(Singleton.class){
                if(instance == null){
                    instance == new Singleton();
                }
            }
        }
        return instance;
    }
}
```

> 4. 静态内部类实现单例模式

```java
public class Singleton{
    private static class SingletonHandler(){
        private static Singleton instance = new Singleton();
    }
    private Singleton(){}
    public static Singleton getIntance(){
        return SingletonHandler.instance;
    }
}
```

